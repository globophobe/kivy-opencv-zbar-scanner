#:import hex kivy.utils.get_color_from_hex
#:import MDLabel kivymd.label.MDLabel
#:import MDTextField kivymd.textfields.MDTextField
#:import MDSwitch kivymd.selectioncontrols.MDSwitch

<AppSettings>:
    anchor_x: "left"
    anchor_y: "top"
    padding: [dp(15), dp(20), 0, 0]
    opacity: 1 if app.is_settings_menu_visible else 0
    BoxLayout:
        canvas.before:
            Color:
                rgba: (0, 0, 0, 0.15)
            RoundedRectangle:
                segments: 50
                pos: self.pos
                size: self.size
        canvas:
            Color:
                rgb: (1, 1, 1)
            RoundedRectangle:
                segments: 50
                pos: self.x + dp(9), self.y + dp(9)
                size: self.width - dp(18), self.height - dp(18)
        width: dp(350)
        height: dp(720)
        size_hint: None, None
        BoxLayout:
            orientation: "vertical"
            padding: [dp(20), dp(20), dp(20), dp(10)]
            Label:
                font_size: "20sp"
                # Near black, gray
                color: hex("#111111")
                text: root.menu_label
                size_hint_y: 0.1
                markup: True
            BoxLayout:
                size_hint_y: 0.2
                Label:
                    font_size: "12sp"
                    text_size: self.size
                    halign: "left"
                    valign: "bottom"
                    # Near black, gray
                    color: hex("#111111")
                    text: root.scanner_name_label
                    markup: True
            MDTextField:
                id: scanner_name
                font_size: "14sp"
                text: app.scanner_name
                on_text: root.on_scanner_name(self.text)
                # Near white
                selection_color: (244 / 255, 244 / 255, 244 / 255, 0.5)
                disabled: not root.opacity
                size_hint_y: 0.2
            BoxLayout:
                size_hint_y: 0.2
                Label:
                    font_size: "12sp"
                    text_size: self.size
                    halign: "left"
                    valign: "bottom"
                    # Near black, gray
                    color: hex("#111111")
                    text: root.domain_label
                    markup: True
            MDTextField:
                id: domain
                font_size: "14sp"
                text: app.domain
                on_text: root.validate_domain()
                # Near white
                selection_color: (244 / 255, 244 / 255, 244 / 255, 0.5)
                disabled: not root.opacity
                size_hint_y: 0.2
            BoxLayout:
                size_hint_y: 0.2
                Label:
                    font_size: "12sp"
                    text_size: self.size
                    halign: "left"
                    valign: "bottom"
                    # Near black, gray
                    color: hex("#111111")
                    text: root.token_label
                    markup:True
            MDTextField:
                id: token
                font_size: "13sp"
                text: app.token
                on_text: root.validate_token()
                # Near white
                selection_color: (244 / 255, 244 / 255, 244 / 255, 0.5)
                size_hint_y: 0.2
                disabled: not root.opacity
            GridLayout:
                cols: 2
                rows: 6
                size_hint_y: 1.3
                Label:
                    font_size: "12sp"
                    text_size: self.size
                    halign: "left"
                    valign: "middle"
                    # Near black, gray
                    color: hex("#111111")
                    text: root.secondary_camera_label
                    markup: True
                CustomMDCheckbox:
                    active: app.is_secondary_camera
                    callback: root.toggle_is_secondary_camera
                    size_hint_x: None
                    width: dp(50)
                    disabled: not root.opacity
                Label:
                    font_size: "12sp"
                    text_size: self.size
                    halign: "left"
                    valign: "middle"
                    # Near black, gray
                    color: hex("#111111")
                    text: root.debug_character_label
                    markup: True
                CustomMDCheckbox:
                    active: app.is_debug_character_visible
                    callback: root.toggle_is_debug_character_visible
                    size_hint_x: None
                    width: dp(50)
                    disabled: not root.opacity
                Label:
                    font_size: "12sp"
                    text_size: self.size
                    halign: "left"
                    valign: "middle"
                    # Near black, gray
                    color: hex("#111111")
                    text: root.left_scanning_label
                    markup: True
                CustomMDCheckbox:
                    active: app.is_left_scanning_active
                    callback: root.toggle_is_left_scanning_active
                    size_hint_x: None
                    width: dp(50)
                    disabled: not root.opacity
                Label:
                    font_size: "12sp"
                    text_size: self.size
                    halign: "left"
                    valign: "middle"
                    # Near black, gray
                    color: hex("#111111")
                    text: root.face_detection_label
                    markup: True
                CustomMDCheckbox:
                    active: app.is_face_detection_active
                    callback: root.toggle_is_face_detection_active
                    size_hint_x: None
                    width: dp(50)
                    disabled: not root.opacity
                Label:
                    font_size: "12sp"
                    text_size: self.size
                    halign: "left"
                    valign: "middle"
                    # Near black, gray
                    color: hex("#111111")
                    text: root.face_recognition_label
                    markup: True
                CustomMDCheckbox:
                    active: app.is_face_recognition_active
                    callback: root.toggle_is_face_recognition_active
                    size_hint_x: None
                    width: dp(50)
                    disabled: not root.opacity
